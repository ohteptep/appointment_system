{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Appointment</title>
    <link href="{% static 'assets/tupclogo.png' %}" rel="icon">
    <link rel="stylesheet" href="{% static 'css/bootstrap.css' %}">
    <link rel="stylesheet" href="{% static 'css/custom_style.css' %}">
    <link href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
</head>
<style>
    #id2{display: none;}
    #id3{display: none;}
    #id4{display: none;}
    #id5{display: none;}
    #id6{display: none;}
    #id7{display: none;}
    #id8{display: none;}
    #id9{display: none;}
    #id10{display: none;}
    #id11{display: none;}
    #id12{display: none;}
    #id13{display: none;}
</style>
<body>
    
    <nav class="navbar navbar-expand-lg navbar-light bg-custom">
        <div class="container">
            <div class="container-fluid flex-nav">
                <div class="tup-title">
                    <img class="image-nav" src="{% static 'assets/tupclogo.png' %}" width="70" alt="">
                    <h4 class="custom-title">Technological University of the Philippines</h4> 
                  </div>
            </div>
        </div>
    </nav>

    
    <div class="container marg-top justify-content-center" data-aos="zoom-out" data-aos-duration="1000" data-aos-once="true" >
        <h1 align ="center">Book an Appointment - Guest</h1>
        <br>
        <div class="card card_custom-2" data-aos="zoom-in" data-aos-duration="1000" data-aos-once="true">
            <form class="row g-3" method="POST">
                {% csrf_token %}
                <div class="row">
                    <div class="col-md-4">
                        <label for="inputFirst" class="form-label">First name</label>
                        <input type="text" class="form-control" id="inputFirst" name="firstname" required>
                    </div>
                    <div class="col-md-4">
                        <label for="inputMiddle" class="form-label">Middle name</label>
                        <input type="text" class="form-control" id="inputMiddle" name="middlename" required>
                    </div>
                    <div class="col-md-4">
                        <label for="inputLast" class="form-label">Last name</label>
                        <input type="text" class="form-control" id="inputLast" name="lastname" required>
                    </div>
                </div> 
                <div class="w-100"></div>
                <div class="row">
                    <div class="col-md-6">
                        <label for="inputEmail" class="form-label">Email Address</label>
                        <input type="text" class="form-control" id="inputEmail" name="email" required>
                    </div>
                    <div class="col-md-6">
                        <label for="inputContact" class="form-label">Contact Number</label>
                        <input type="number" class="form-control" id="inputContact" name="contact" required>
                    </div>
                </div> 
                <div class="row">
                    <div class="col-md-6">
                        <label for="inputDept" class="form-label">Department <span style="color:red">*</span></label>
                        <select class="form-select" name="dept" id="id1" onchange="myFunction()" required>
                            <option value="" selected disabled>Select Department</option>
                            <option value="OAA">Office of Academic Affair (OAA)</option>
                            <option value="DIT">Department of Information Technology (DIT)</option>
                            <option value="DLA">Department of Liberal Arts (DLA)</option>
                            <option value="OCL">Office of Campus Library (OCL)</option>
                            <option value="DMS">Department of Mathematics and Science (DMS)</option>
                            <option value="DOE">Department of Engineering (DOE)</option>
                            <option value="DED">Department of Education (DED)</option>
                            <option value="OSA">Office of Student Affairs (OSA)</option>
                            <option value="UITC">University Information Technology Center (UITC)</option>
                            <option value="DPE">Department of Physical Education (DPE)</option>
                            <option value="SD">Security Department (SD)</option>
                            <option value="RE">Office of Research & Extension (ORE)</option>
                        </select>
                    </div>
                    <div class="col-md-6">
                        <label for="inputContactP" class="form-label">Contact Person <span style="color:red">*</span></label>
                        <select id="id2" class="form-select" name="contactperson">
                            <option selected disabled value="">Select Contact Person</option>
                            {% for a in names %}
                                {% if a.department == 'OAA' %}
                                <option>{{a.position}} - {{a.first_name}} {{a.last_name}} - Office of Academic Affair ({{a.department}})</option>
                                {% endif %}
                            {% endfor %}
                        </select>
                        <select id="id3" class="form-select" name="contactperson">
                            <option selected disabled value="">Select Contact Person</option>
                            {% for a in names %}
                                {% if a.department == 'DIT' %}
                                <option>{{a.position}} - {{a.first_name}} {{a.last_name}} - Department of Information Technology ({{a.department}})</option>
                                {% endif %}
                            {% endfor %}
                        </select>
                        <select id="id4" class="form-select" name="contactperson">
                            <option selected disabled value="">Select Contact Person</option>
                            {% for a in names %}
                                {% if a.department == 'DLA' %}
                                <option>{{a.position}} - {{a.first_name}} {{a.last_name}} - Department of Liberal Arts ({{a.department}})</option>
                                {% endif %}
                            {% endfor %}
                        </select>
                        <select id="id5" class="form-select" name="contactperson">
                            <option selected disabled value="">Select Contact Person</option>
                            {% for a in names %}
                                {% if a.department == 'OCL' %}
                                <option>{{a.position}} - {{a.first_name}} {{a.last_name}} - Office of Campus Library ({{a.department}})</option>
                                {% endif %}
                            {% endfor %}
                        </select>
                        <select id="id6" class="form-select" name="contactperson">
                            <option selected disabled value="">Select Contact Person</option>
                            {% for a in names %}
                                {% if a.department == 'DED' %}
                                <option>{{a.position}} - {{a.first_name}} {{a.last_name}} - Department of Education ({{a.department}})</option>
                                {% endif %}
                            {% endfor %}
                        </select>
                        <select id="id7" class="form-select" name="contactperson">
                            <option selected disabled value="">Select Contact Person</option>
                            {% for a in names %}
                                {% if a.department == 'DMS' %}
                                <option>{{a.position}} - {{a.first_name}} {{a.last_name}} - Department of Mathematics and Science ({{a.department}})</option>
                                {% endif %}
                            {% endfor %}
                        </select>
                        <select id="id8" class="form-select" name="contactperson">
                            <option selected disabled value="">Select Contact Person</option>
                            {% for a in names %}
                                {% if a.department == 'DOE' %}
                                <option>{{a.position}} - {{a.first_name}} {{a.last_name}} - Department of Engineering ({{a.department}})</option>
                                {% endif %}
                            {% endfor %}
                        </select>
                        <select id="id9" class="form-select" name="contactperson">
                            <option selected disabled value="">Select Contact Person</option>
                            {% for a in names %}
                                {% if a.department == 'OSA' %}
                                <option>{{a.position}} - {{a.first_name}} {{a.last_name}} - Office of Student Affairs ({{a.department}})</option>
                                {% endif %}
                            {% endfor %}
                        </select>
                        <select id="id10" class="form-select" name="contactperson">
                            <option selected disabled value="">Select Contact Person</option>
                            {% for a in names %}
                                {% if a.department == 'UITC' %}
                                <option>{{a.position}} - {{a.first_name}} {{a.last_name}} - University Information Technology Center ({{a.department}})</option>
                                {% endif %}
                            {% endfor %}
                        </select>
                        <select id="id11" class="form-select" name="contactperson">
                            <option selected disabled value="">Select Contact Person</option>
                            {% for a in names %}
                                {% if a.department == 'DPE' %}
                                <option>{{a.position}} - {{a.first_name}} {{a.last_name}} - Department of Physical Education ({{a.department}})</option>
                                {% endif %}
                            {% endfor %}
                        </select>
                        <select id="id12" class="form-select" name="contactperson">
                            <option selected disabled value="">Select Contact Person</option>
                            {% for a in names %}
                                {% if a.department == 'SD' %}
                                <option>{{a.position}} - {{a.first_name}} {{a.last_name}} - Security Department ({{a.department}})</option>
                                {% endif %}
                            {% endfor %}
                        </select>
                        <select id="id13" class="form-select" name="contactperson">
                            <option selected disabled value="">Select Contact Person</option>
                            {% for a in names %}
                                {% if a.department == 'RE' %}
                                <option>{{a.position}} - {{a.first_name}} {{a.last_name}} - Research & Extension ({{a.department}})</option>
                                {% endif %}
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <div class="w-100"></div>
                <div class="row">
                    <div class="col-md-6">
                        <label for="inputDate" class="form-label">Preferred Date</label>
                        <input type="date" class="form-control" id="inputDate" name="pdate" required>
                    </div>
                    <div class="col-md-6">
                        <label for="inputTime" class="form-label">Preferred Time</label>
                        <input type="time" class="form-control" id="inputTime" name="ptime" required>
                    </div>
                </div> 
                <div class="w-100"></div>
                <div class="row">
                    <div class="col-md-12">
                        <label for="floatingTextarea2">Purpose</label>
                        <input type="hidden" class="form-control" id="" name="yrlevel" value="N/A">
                        <input type="hidden" class="form-control" id="" name="course" value="N/A">
                        <input type="hidden" class="form-control" id="" name="yrgraduate" value="N/A">
                        <input type="hidden" class="form-control" id="" name="studentnum" value="N/A" >
                        <input type="hidden" class="form-control" id="" name="status" value="PENDING" >
                        <input type="hidden" class="form-control" id="" name="notes" value="N/A" >
                        <input type="hidden" class="form-control" id="" name="username" value="N/A" >
                        <input type="hidden" class="form-control" id="" name="user" value="Guest" >
                        <input type="hidden" class="form-control" id="" name="contactperson_email" value="N/A" >
                        <input type="hidden" class="form-control" id="" name="date_submit" value="{% now "Y-m-d" %}" >
                        <input type="hidden" class="form-control" id="" name="sd_status" value="N/A" >
                        <textarea class="form-control" placeholder="Type your purpose of visit." id="floatingTextarea2" style="height: 100px" name="purpose" required></textarea>
                    </div>
                </div>
                <div class="text-center">
                    <a class="btn btn-secondary" href="{% url 'Home' %}">Back</a>
                    <button type="button" data-bs-toggle="modal" data-bs-target="#review" id="checkrev" class="btn btn-danger">Submit Form</button>
                </div>
            </div>

    </div>
                <div class="modal fade" id="review" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">Review Submission</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <h5 id="fname"></h5>
                                <h5 id="mname"></h5>
                                <h5 id="lname"></h5>
                                <h5 id="email"></h5>
                                <h5 id="contact"></h5>
                                <h5 id="dept"></h5>
                                <h5 id="contactperson"></h5>
                                <h5 id="pdate"></h5>
                                <h5 id="ptime"></h5>
                                <h5 id="purpose"></h5>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                                <button type="submit" class="btn btn-danger" name="">Submit</button>
                            </div>
                        </div>
                    </div>
                </div>
            </form>

    <br><br>



    <script src="{% static 'js/bootstrap.js' %}"></script>
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script src="{% static 'js/jquery.js' %}"></script>
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
         AOS.init({
            duration: 3000,
            once: true,
        });
    </script>
    {% for message in messages %}
    <script>
        Swal.fire({
            title: '{{message}}',
            confirmButtonColor: '#d33',
            })
    </script>
    {% endfor %}
    <script>
        $(document).ready(function(){
            $('#checkrev').click(function(){
                i1 = $('#inputFirst').val();
                i2 = $('#inputMiddle').val();
                i3 = $('#inputLast').val();
                i4 = $('#inputEmail').val();
                i5 = $('#inputContact').val();
                i6 = $('#inputDept').val();
                i7 = $('#inputContactP').val();
                i8 = $('#inputDate').val();
                i9 = $('#inputTime').val();
                i10 = $('#floatingTextarea2').val();
                document.getElementById('fname').innerHTML = "Firstname:" + " " + i1;
                document.getElementById('mname').innerHTML = "Middlename:" + " " + i2;
                document.getElementById('lname').innerHTML = "Lastname:" + " " + i3;
                document.getElementById('email').innerHTML = "Email:" + " " + i4;
                document.getElementById('contact').innerHTML = "Contact No:" + " " + i5;
                document.getElementById('dept').innerHTML = "Department:" + " " + i6;
                document.getElementById('contactperson').innerHTML = "Contact Person:" + " " + i7;
                document.getElementById('pdate').innerHTML = "Preferred Date:" + " " + i8;
                document.getElementById('ptime').innerHTML = "Preferred Time:" + " " + i9;
                document.getElementById('purpose').innerHTML = "Purpose:" + " " + i10;
            })

        })
        function myFunction() {
            var x = document.getElementById("id1").value;
            if (x == "OAA"){
                document.getElementById("id2").style.display = "block";
                document.getElementById("id3").style.display = "none";
                document.getElementById("id4").style.display = "none";
                document.getElementById("id5").style.display = "none";
                document.getElementById("id6").style.display = "none";
                document.getElementById("id7").style.display = "none";
                document.getElementById("id8").style.display = "none";
                document.getElementById("id9").style.display = "none";
                document.getElementById("id10").style.display = "none";
                document.getElementById("id11").style.display = "none";
                document.getElementById("id12").style.display = "none";
                document.getElementById("id13").style.display = "none";
            } 
            if (x == "DIT"){
                document.getElementById("id3").style.display = "block";
                document.getElementById("id2").style.display = "none";
                document.getElementById("id4").style.display = "none";
                document.getElementById("id5").style.display = "none";
                document.getElementById("id6").style.display = "none";
                document.getElementById("id7").style.display = "none";
                document.getElementById("id8").style.display = "none";
                document.getElementById("id9").style.display = "none";
                document.getElementById("id10").style.display = "none";
                document.getElementById("id11").style.display = "none";
                document.getElementById("id12").style.display = "none";
                document.getElementById("id13").style.display = "none";
            } 
            if (x == "DLA"){
                document.getElementById("id4").style.display = "block";
                document.getElementById("id2").style.display = "none";
                document.getElementById("id3").style.display = "none";
                document.getElementById("id5").style.display = "none";
                document.getElementById("id6").style.display = "none";
                document.getElementById("id7").style.display = "none";
                document.getElementById("id8").style.display = "none";
                document.getElementById("id9").style.display = "none";
                document.getElementById("id10").style.display = "none";
                document.getElementById("id11").style.display = "none";
                document.getElementById("id12").style.display = "none";
                document.getElementById("id13").style.display = "none";
            } 
            if (x == "OCL"){
                document.getElementById("id5").style.display = "block";
                document.getElementById("id2").style.display = "none";
                document.getElementById("id3").style.display = "none";
                document.getElementById("id4").style.display = "none";
                document.getElementById("id6").style.display = "none";
                document.getElementById("id7").style.display = "none";
                document.getElementById("id8").style.display = "none";
                document.getElementById("id9").style.display = "none";
                document.getElementById("id10").style.display = "none";
                document.getElementById("id11").style.display = "none";
                document.getElementById("id12").style.display = "none";
                document.getElementById("id13").style.display = "none";
            } 
            if (x == "DED"){
                document.getElementById("id6").style.display = "block";
                document.getElementById("id2").style.display = "none";
                document.getElementById("id3").style.display = "none";
                document.getElementById("id4").style.display = "none";
                document.getElementById("id5").style.display = "none";
                document.getElementById("id7").style.display = "none";
                document.getElementById("id8").style.display = "none";
                document.getElementById("id9").style.display = "none";
                document.getElementById("id10").style.display = "none";
                document.getElementById("id11").style.display = "none";
                document.getElementById("id12").style.display = "none";
                document.getElementById("id13").style.display = "none";
            } 
            if (x == "DMS"){
                document.getElementById("id7").style.display = "block";
                document.getElementById("id2").style.display = "none";
                document.getElementById("id3").style.display = "none";
                document.getElementById("id4").style.display = "none";
                document.getElementById("id5").style.display = "none";
                document.getElementById("id6").style.display = "none";
                document.getElementById("id8").style.display = "none";
                document.getElementById("id9").style.display = "none";
                document.getElementById("id10").style.display = "none";
                document.getElementById("id11").style.display = "none";
                document.getElementById("id12").style.display = "none";
                document.getElementById("id13").style.display = "none";
            } 
            if (x == "DOE"){
                document.getElementById("id8").style.display = "block";
                document.getElementById("id2").style.display = "none";
                document.getElementById("id3").style.display = "none";
                document.getElementById("id4").style.display = "none";
                document.getElementById("id5").style.display = "none";
                document.getElementById("id6").style.display = "none";
                document.getElementById("id7").style.display = "none";
                document.getElementById("id9").style.display = "none";
                document.getElementById("id10").style.display = "none";
                document.getElementById("id11").style.display = "none";
                document.getElementById("id12").style.display = "none";
                document.getElementById("id13").style.display = "none";
            } 
            if (x == "OSA"){
                document.getElementById("id9").style.display = "block";
                document.getElementById("id2").style.display = "none";
                document.getElementById("id3").style.display = "none";
                document.getElementById("id4").style.display = "none";
                document.getElementById("id5").style.display = "none";
                document.getElementById("id6").style.display = "none";
                document.getElementById("id7").style.display = "none";
                document.getElementById("id8").style.display = "none";
                document.getElementById("id10").style.display = "none";
                document.getElementById("id11").style.display = "none";
                document.getElementById("id12").style.display = "none";
                document.getElementById("id13").style.display = "none";
            } 
            if (x == "UITC"){
                document.getElementById("id10").style.display = "block";
                document.getElementById("id2").style.display = "none";
                document.getElementById("id3").style.display = "none";
                document.getElementById("id4").style.display = "none";
                document.getElementById("id5").style.display = "none";
                document.getElementById("id6").style.display = "none";
                document.getElementById("id7").style.display = "none";
                document.getElementById("id8").style.display = "none";
                document.getElementById("id9").style.display = "none";
                document.getElementById("id11").style.display = "none";
                document.getElementById("id12").style.display = "none";
                document.getElementById("id13").style.display = "none";
            } 
            if (x == "DPE"){
                document.getElementById("id11").style.display = "block";
                document.getElementById("id2").style.display = "none";
                document.getElementById("id3").style.display = "none";
                document.getElementById("id4").style.display = "none";
                document.getElementById("id5").style.display = "none";
                document.getElementById("id6").style.display = "none";
                document.getElementById("id7").style.display = "none";
                document.getElementById("id8").style.display = "none";
                document.getElementById("id9").style.display = "none";
                document.getElementById("id10").style.display = "none";
                document.getElementById("id12").style.display = "none";
                document.getElementById("id13").style.display = "none";
            } 
            if (x == "SD"){
                document.getElementById("id12").style.display = "block";
                document.getElementById("id2").style.display = "none";
                document.getElementById("id3").style.display = "none";
                document.getElementById("id4").style.display = "none";
                document.getElementById("id5").style.display = "none";
                document.getElementById("id6").style.display = "none";
                document.getElementById("id7").style.display = "none";
                document.getElementById("id8").style.display = "none";
                document.getElementById("id9").style.display = "none";
                document.getElementById("id10").style.display = "none";
                document.getElementById("id11").style.display = "none";
                document.getElementById("id13").style.display = "none";
            } 
            if (x == "RE"){
                document.getElementById("id13").style.display = "block";
                document.getElementById("id2").style.display = "none";
                document.getElementById("id3").style.display = "none";
                document.getElementById("id4").style.display = "none";
                document.getElementById("id5").style.display = "none";
                document.getElementById("id6").style.display = "none";
                document.getElementById("id7").style.display = "none";
                document.getElementById("id8").style.display = "none";
                document.getElementById("id9").style.display = "none";
                document.getElementById("id10").style.display = "none";
                document.getElementById("id11").style.display = "none";
                document.getElementById("id12").style.display = "none";
            } 
        }
    </script>
</body>
</html>